<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="serious-business.css">

    <title>Serious-Business</title>
</head>
<body>

<div class="container">

    <div class="left-c">

        <table id="hours">
            <tr>
                <th>Business hours Dreamland</th>
                <th><img src="DreamLand_logo.png" alt=""></th>
            </tr>
            <tr>
                <td>Monday</td>
                <td id="monday">10:00 - 18:30</td>

            </tr>
            <tr>
                <td>Tuesday</td>
                <td id="tuesday">10:00 - 18:30</td>
            </tr>
            <tr>
                <td>Wednesday</td>
                <td id="wednesday">10:00 - 18:30</td>
            </tr>
            <tr>
                <td>Thursday</td>
                <td id="thursday">10:00 - 18:30</td>
            </tr>
            <tr>
                <td>Friday</td>
                <td id="friday">10:00 - 18:30</td>
            </tr>
            <tr>
                <td>Saturday</td>
                <td id="saturday">10:00 - 18:30</td>
            </tr>
            <tr>
                <td>Sunday</td>
                <td id="sunday">Closed</td>
            </tr>
        </table>
    </div>

    <div class="right-c">

        <p><button class="w3-button w3-black w3-round-large" id="close">Close early</button></p>

        <p id="now">We are currently closed. Sorry for the inconvenience</p>

        <form name="Tick">
            <input type="text" size="12" name="Clock">
        </form>
    </div>


</div>


<script>

    // show a live digital clock time
    window.addEventListener("load", showDigitalClock,)

    function showDigitalClock(){

        var digital=new Date()
        var hours=digital.getHours()
        var minutes=digital.getMinutes()
        var seconds=digital.getSeconds()
        if (hours == 0){
            hours = 12
        }//this is so the hours written out when hours=0 is 12

        if (minutes<=9){
            minutes = "0" + minutes
        }
        if (seconds<=9){
            seconds = "0" + seconds
        }
        document.Tick.Clock.value =
            hours + ":" + minutes +":"+seconds
        setTimeout("showDigitalClock()", 1000)
    }


    // Check if the business is open or closed according to the current time and day.
    window.addEventListener("load", checkOpen,)


    function checkOpen() {
        var digital=new Date();
        var hours=digital.getHours();
        var minutes=digital.getMinutes();
        var open;

        if (digital.getDay() >= 1 && digital.getDay() <= 6) {

            if (hours < 10) {
                open = "We are currently closed. Sorry for the inconvenience";
            } else if (hours === 18 && minutes > 30) { // needs to be optimised. it needs to be both are true,
                open = "We are currently closed. Sorry for the inconvenience";
            } else if (hours < 18) { // needs to be optimised. it needs to be both are true,
                open = "We are currently open until 18:30";
            }

            document.getElementById("now").innerHTML = open;
        }
    }


    // Close early on click

    var button = document.getElementById("close");
    button.addEventListener("click", closeEarly,);

    function closeEarly () {

        var date = new Date ();

        // check day,
         var day = date.getDay ();

        // check time
        var hours = date.getHours();
        var minutes = date.getMinutes();


        // if var day = 1 change monday innerHTML to hours + ":" + minutes;, if var day = 3 change wednesday innerHTML to hours + ":" + minutes;

        if (day === 1 ){
            if( minutes < 10 ){
                document.getElementById("monday").innerHTML = "10:00 -"+ hours + ":0" + minutes;
                document.getElementById("now").innerHTML = "We closed early";
            }
            else{
                document.getElementById("monday").innerHTML = "10:00 -"+ hours + ":" + minutes;
                document.getElementById("now").innerHTML = "We closed early";
            }
        }
        if (day === 2){
            if( minutes < 10 ){
                document.getElementById("tuesday").innerHTML = "10:00 -"+ hours + ":0" + minutes;
                document.getElementById("now").innerHTML = "We closed early";
            }
            else{
                document.getElementById("tuesday").innerHTML = "10:00 -"+ hours + ":" + minutes;
                document.getElementById("now").innerHTML = "We closed early";
            }
        }
        if (day === 3){
            if( minutes < 10 ){
                document.getElementById("wednesday").innerHTML = "10:00 -"+ hours + ":0" + minutes;
                document.getElementById("now").innerHTML = "We closed early";
            }
            else{
                document.getElementById("wednesday").innerHTML = "10:00 -"+ hours + ":" + minutes;
                document.getElementById("now").innerHTML = "We closed early";
            }
        }
        if (day === 4){
            if( minutes < 10 ){
                document.getElementById("thursday").innerHTML = "10:00 -"+ hours + ":0" + minutes;
                document.getElementById("now").innerHTML = "We closed early";
            }
            else{
                document.getElementById("thursday").innerHTML = "10:00 -"+ hours + ":" + minutes;
                document.getElementById("now").innerHTML = "We closed early";
            }
        }
        if (day === 5){
            if( minutes < 10 ){
                document.getElementById("friday").innerHTML = "10:00 -"+ hours + ":0" + minutes;
                document.getElementById("now").innerHTML = "We closed early";
            }
            else{
                document.getElementById("friday").innerHTML = "10:00 -"+ hours + ":" + minutes;
                document.getElementById("now").innerHTML = "We closed early";
            }
        }
        if (day === 6){
            if( minutes < 10 ){
                document.getElementById("saturday").innerHTML = "10:00 -"+ hours + ":0" + minutes;
                document.getElementById("now").innerHTML = "We closed early";
            }
            else{
                document.getElementById("saturday").innerHTML = "10:00 -"+ hours + ":" + minutes;
                document.getElementById("now").innerHTML = "We closed early";
            }
        }
    }




</script>
</body>
</html>
